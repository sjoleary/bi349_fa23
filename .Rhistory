theme(
axis.text = element_text(size = 11, color = "black"),
axis.title = element_text(size = 16, color = "black"),
axis.title.y = element_text(vjust = 1.5, color = "black"),
axis.line = element_line(color = "black"),
legend.position = "bottom",
panel.background = element_rect(fill = "white", color = NA),
panel.border = element_rect(fill = NA, color = "black"),
panel.grid.major = element_line(color = "grey85"),
panel.grid.minor = element_blank(),
strip.background = element_rect(fill = "grey95", color = "black"),
strip.text.x = element_text(size = 16, color = "black"),
strip.text.y = element_text(size = 16, color = "black"))
# set options
knitr::opts_chunk$set(
tidy = FALSE,
message = FALSE,
warning = FALSE)
options(htmltools.dir.version = FALSE)
#| label: setup
#| include: false
# custom functions ----
library(ggplot2)
theme_standard <- theme_classic() +
theme(
axis.text = element_text(size = 11, color = "black"),
axis.title = element_text(size = 16, color = "black"),
axis.title.y = element_text(vjust = 1.5, color = "black"),
axis.line = element_line(color = "black"),
legend.position = "bottom",
panel.background = element_rect(fill = "white", color = NA),
panel.border = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
strip.background = element_rect(fill = "grey95", color = "black"),
strip.text.x = element_text(size = 16, color = "black"),
strip.text.y = element_text(size = 16, color = "black"))
theme_facet <- theme_classic() +
theme(
axis.text = element_text(size = 11, color = "black"),
axis.title = element_text(size = 16, color = "black"),
axis.title.y = element_text(vjust = 1.5, color = "black"),
axis.line = element_line(color = "black"),
legend.position = "bottom",
panel.background = element_rect(fill = "white", color = NA),
panel.border = element_rect(fill = NA, color = "black"),
panel.grid.major = element_line(color = "grey85"),
panel.grid.minor = element_blank(),
strip.background = element_rect(fill = "grey95", color = "black"),
strip.text.x = element_text(size = 16, color = "black"),
strip.text.y = element_text(size = 16, color = "black"))
# set options
knitr::opts_chunk$set(
tidy = FALSE,
message = FALSE,
warning = FALSE)
options(htmltools.dir.version = FALSE)
# load libraries
# reporting
library(knitr)
# visualization
library(ggplot2)
library(ggthemes)
library(patchwork)
# data wrangling
library(dplyr)
library(tidyr)
library(readr)
library(skimr)
library(janitor)
library(magrittr)
# turn off scientific notation
options(scipen=999)
disaster <- read_delim("data/nat-disasters_emdat-query-2021-10-05.txt", delim = "\t", skip = 6) %>%
clean_names()
colnames(disaster)
# count number of meteorological disasters per year
metereol <- disaster %>%
filter(disaster_subgroup == "Meteorological") %>%
count(year)
# preview data
head(metereol)
ggplot(metereol, aes(x = n)) +
geom_histogram(binwidth = 5, color = "black", fill = "orange") +
labs(title = "Distribution of yealy occurences of metereological-caused natural disasters",
subtitle = "Counts of natural disasters recorded as metereological in the International Disaster database per year for 1900 - 2021",
x = "number of events", y = "number of years") +
theme_standard
ggplot(metereol, aes(x = n)) +
geom_density(binwidth = 1, color = "black", fill = "orange", alpha = 0.5) +
labs(title = "Yearly occurence of metereological-caused natural disasters",
subtitle = "Smoothed distribution of number of natural disasters classified as metereological by the International Disaster Database per year 1900 - 2021",
x = "number of events", y = "number of years") +
theme_standard
ggplot(metereol, aes(x = n)) +
geom_histogram(binwidth = 5, color = "black", fill = "orange") +
labs(title = "Distribution of yealy occurences of metereological-caused natural disasters",
subtitle = "Counts of natural disasters recorded as metereological by the \nInternational Disaster database per year for 1900 - 2021",
x = "number of events", y = "number of years") +
theme_standard
ggplot(metereol, aes(x = n)) +
geom_histogram(binwidth = 5, color = "black", fill = "orange") +
labs(title = "Distribution of yealy occurences of metereological-caused natural disasters",
subtitle = "Counts of natural disasters recorded as metereological by the International \nDisaster database per year for 1900 - 2021",
x = "number of events", y = "number of years") +
theme_standard
ggplot(metereol, aes(x = n)) +
geom_histogram(binwidth = 5, color = "black", fill = "orange") +
labs(title = "Distribution of yealy occurences of metereological-caused natural disasters",
subtitle = "Counts of natural disasters recorded as metereological by the International Disaster \nDatabase per year for 1900 - 2021",
x = "number of events", y = "number of years") +
theme_standard
ggplot(metereol, aes(x = n)) +
geom_density(binwidth = 1, color = "black", fill = "orange", alpha = 0.5) +
labs(title = "Yearly occurence of metereological-caused natural disasters",
subtitle = "Smoothed distribution of number of natural disasters classified as metereological by the International Disaster Database per year 1900 - 2021",
x = "number of events", y = "number of years") +
theme_standard
ggplot(metereol, aes(x = n)) +
geom_density(binwidth = 1, color = "black", fill = "orange", alpha = 0.5) +
labs(title = "Yearly occurence of metereological-caused natural disasters",
subtitle = "Smoothed distribution of number of natural disasters classified as metereological by the \nInternational Disaster Database per year 1900 - 2021",
x = "number of events", y = "number of years") +
theme_standard
# count number of metereologial/climatological disasters per year
counts <- disaster %>%
filter(disaster_subgroup %in% c("Meteorological", "Climatological")) %>%
group_by(disaster_subgroup) %>%
count(year)
# preview data
head(counts)
counts %>%
mutate(n = replace_na(n, 0)) %>%
pivot_wider(names_from = "disaster_subgroup", values_from = "n") %>%
ggplot(aes(x = Climatological, y = Meteorological)) +
geom_smooth(method = "lm", color = "darkblue") +
geom_point(shape = 21, color = "black", fill = "darkorange", size = 3) +
labs(title = "Comparison of yearly occurence of climatological and metereological disasters.",
subtitle = "Number of natural disasters classified as metereological by the International Disaster \nDatabase per year 1900 - 2021. Blue line indicates linear regression with grey area \nvisualizing the 95% confidence interval.",
x = "number of meteorological disasters", y = "number of climatological disasters") +
theme_standard
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = disaster_subgroup)) +
geom_bar(stat = "count", color = "black", fill = "darkorange") +
labs(title = "Prevalence of natural disaster types.",
subtitle = "Prevalence is measured as the number of times a disaster of a given type \nwas recorded in the International Disaster Database in the 2010s.",
x = "natural disaster type", y = "number of occurenes") +
theme_standard
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = disaster_subgroup)) +
geom_bar(stat = "count", color = "black", fill = "darkorange") +
labs(title = "Prevalence of natural disaster types.",
subtitle = "Prevalence is measured as the number of times a disaster of a given type was recorded in the \nInternational Disaster Database in the 2010s.",
x = "natural disaster type", y = "number of occurenes") +
theme_standard
colnames(disasters)
colnames(disaster)
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = disaster_subgroup, fill = continent)) +
geom_bar(stat = "count", color = "black") +
labs(title = "Prevalence of natural disaster types.",
subtitle = "Prevalence measured as the number of times a disaster of a given type was recorded in the \nInternational Disaster Database in the 2010s.",
x = "natural disaster type", y = "number of occurenes") +
theme_standard
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = continent, fill = disaster_subgroup)) +
geom_bar(stat = "count", position = "dodge", color = "black") +
labs(title = "Prevalence of natural disaster types.",
subtitle = "Prevalence measured as the number of times a disaster of a given type was recorded in the \nInternational Disaster Database in the 2010s.",
x = "natural disaster type", y = "number of occurenes") +
theme_standard
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = continent, fill = disaster_subgroup)) +
geom_bar(stat = "count", position = "stacked", color = "black") +
labs(title = "Prevalence of natural disaster types.",
subtitle = "Prevalence measured as the number of times a disaster of a given type was recorded in the \nInternational Disaster Database in the 2010s.",
x = "natural disaster type", y = "number of occurenes") +
theme_standard
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = continent, fill = disaster_subgroup)) +
geom_bar(stat = "count", position = "stack", color = "black") +
labs(title = "Prevalence of natural disaster types.",
subtitle = "Prevalence measured as the number of times a disaster of a given type was recorded in the \nInternational Disaster Database in the 2010s.",
x = "natural disaster type", y = "number of occurenes") +
theme_standard
colnames(disaster)
unique(disaster$disaster_subgroup)
unique(disaster$disaster_subtype)
unique(disaster$disaster_type)
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = disaster_subgroup, fill = disaster_type)) +
geom_bar(stat = "count", position = "stack", color = "black") +
labs(title = "Prevalence of natural disaster types.",
subtitle = "Prevalence measured as the number of times a disaster of a given type was recorded in the \nInternational Disaster Database in the 2010s.",
x = "natural disaster type", y = "number of occurenes") +
theme_standard
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = disaster_subgroup, fill = disaster_type)) +
geom_bar(stat = "count", position = "fill", color = "black") +
labs(title = "Prevalence of natural disaster types.",
subtitle = "Prevalence measured as the number of times a disaster of a given type was recorded in the \nInternational Disaster Database in the 2010s.",
x = "natural disaster type", y = "number of occurenes") +
theme_standard
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = disaster_type, fill = disaster_subgroup)) +
geom_bar(stat = "count", position = "fill", color = "black") +
labs(title = "Prevalence of natural disaster types.",
subtitle = "Prevalence measured as the number of times a disaster of a given type was recorded in the \nInternational Disaster Database in the 2010s.",
x = "natural disaster type", y = "number of occurenes") +
theme_standard
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = disaster_subgroup, fill = continent)) +
geom_bar(stat = "count", position = "fill", color = "black") +
labs(title = "Prevalence of natural disaster types.",
subtitle = "Prevalence measured as the number of times a disaster of a given type was recorded in the \nInternational Disaster Database in the 2010s.",
x = "natural disaster type", y = "number of occurenes") +
theme_standard
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = disaster_subgroup, fill = continent)) +
geom_bar(stat = "count", position = "fill", color = "black") +
labs(title = "Prevalence of natural disaster types.",
subtitle = "Prevalence measured as the number of times a disaster of a given type was recorded in the \nInternational Disaster Database in the 2010s.",
x = "natural disaster type", y = "number of occurenes") +
theme_standard
disaster %>%
filter(year >= 2010 & year <= 2020) %>%
ggplot(aes(x = disaster_subgroup, fill = continent)) +
geom_bar(stat = "count", position = "fill", color = "black") +
labs(title = "Geographic patterns of natural disaster types.",
subtitle = "Proportion of disaster of a given type occuring on each continent as recorded in the \nInternational Disaster Database in the 2010s.",
x = "natural disaster type", y = "proportion of occurenes") +
theme_standard
ggplot(disaster, aes(x = disaster_subgroup)) +
geom_boxplot()
disaster %>%
group_by(disaster_subgroup) %>%
count(year)
disaster %>%
group_by(disaster_subgroup) %>%
count(year) %>%
ggplot(aes(x = disaster_subgroup, y = n)) +
geom_boxplot()
disaster %>%
group_by(disaster_subgroup) %>%
count(year) %>%
ggplot(aes(x = disaster_subgroup, y = n)) +
geom_boxplot() +
labs(title = "Geographic patterns of natural disaster types.",
subtitle = "Proportion of disaster of a given type occuring on each continent as recorded in the \nInternational Disaster Database for the 2010s.",
x = "natural disaster type", y = "proportion of occurenes") +
theme_standard
disaster %>%
group_by(disaster_subgroup) %>%
count(year) %>%
ggplot(aes(x = disaster_subgroup, y = n, color = disaster_subgroup)) +
geom_boxplot() +
labs(title = "Geographic patterns of natural disaster types.",
subtitle = "Proportion of disaster of a given type occuring on each continent as recorded in the \nInternational Disaster Database for the 2010s.",
x = "natural disaster type", y = "proportion of occurenes") +
theme_standard
disaster %>%
group_by(disaster_subgroup) %>%
count(year) %>%
ggplot(aes(x = disaster_subgroup, y = n, color = disaster_subgroup)) +
geom_boxplot() +
labs(title = "Distribution of number of disasters per category.",
subtitle = "Number of disasters in each category recorded in the International Disaster Database every year.",
x = "natural disaster type", y = "number of records") +
theme_standard
disaster %>%
group_by(disaster_subgroup) %>%
count(year) %>%
ggplot(aes(x = disaster_subgroup, y = n, color = disaster_subgroup)) +
geom_boxplot() +
geom_jitter() +
labs(title = "Distribution of number of disasters per category.",
subtitle = "Number of disasters in each category recorded in the International Disaster Database every year.",
x = "natural disaster type", y = "number of records") +
theme_standard
disaster %>%
group_by(disaster_subgroup) %>%
count(year) %>%
ggplot(aes(x = disaster_subgroup, y = n, color = disaster_subgroup)) +
geom_violoin() +
labs(title = "Distribution of number of disasters per category.",
subtitle = "Number of disasters in each category recorded in the International Disaster Database every year.",
x = "natural disaster type", y = "number of records") +
theme_standard
disaster %>%
group_by(disaster_subgroup) %>%
count(year) %>%
ggplot(aes(x = disaster_subgroup, y = n, color = disaster_subgroup)) +
geom_violin() +
labs(title = "Distribution of number of disasters per category.",
subtitle = "Number of disasters in each category recorded in the International Disaster Database every year.",
x = "natural disaster type", y = "number of records") +
theme_standard
disaster %>%
filter(disaster_subgroup = "Meteorological") %>%
count(year) %>%
ggplot(aes(x = year, y = n)) +
geom_line()
disaster %>%
filter(disaster_subgroup == "Meteorological") %>%
count(year) %>%
ggplot(aes(x = year, y = n)) +
geom_line()
# Chunk 1: setup
#| label: setup
#| include: false
# custom functions ----
library(ggplot2)
theme_standard <- theme_classic() +
theme(
axis.text = element_text(size = 11, color = "black"),
axis.title = element_text(size = 16, color = "black"),
axis.title.y = element_text(vjust = 1.5, color = "black"),
axis.line = element_line(color = "black"),
legend.position = "bottom",
panel.background = element_rect(fill = "white", color = NA),
panel.border = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
strip.background = element_rect(fill = "grey95", color = "black"),
strip.text.x = element_text(size = 16, color = "black"),
strip.text.y = element_text(size = 16, color = "black"))
theme_facet <- theme_classic() +
theme(
axis.text = element_text(size = 11, color = "black"),
axis.title = element_text(size = 16, color = "black"),
axis.title.y = element_text(vjust = 1.5, color = "black"),
axis.line = element_line(color = "black"),
legend.position = "bottom",
panel.background = element_rect(fill = "white", color = NA),
panel.border = element_rect(fill = NA, color = "black"),
panel.grid.major = element_line(color = "grey85"),
panel.grid.minor = element_blank(),
strip.background = element_rect(fill = "grey95", color = "black"),
strip.text.x = element_text(size = 16, color = "black"),
strip.text.y = element_text(size = 16, color = "black"))
# set options
knitr::opts_chunk$set(
tidy = FALSE,
message = FALSE,
warning = FALSE)
options(htmltools.dir.version = FALSE)
# Chunk 2
# load libraries
# reporting
library(knitr)
# visualization
library(ggplot2)
library(ggthemes)
library(patchwork)
# data wrangling
library(dplyr)
library(tidyr)
library(readr)
library(skimr)
library(janitor)
library(magrittr)
# turn off scientific notation
options(scipen=999)
# Chunk 3
disaster <- read_delim("data/nat-disasters_emdat-query-2021-10-05.txt", delim = "\t", skip = 6) %>%
clean_names()
colnames(disaster)
# Chunk 4
# count number of meteorological disasters per year
metereol <- disaster %>%
filter(disaster_subgroup == "Meteorological") %>%
count(year)
# preview data
head(metereol)
# count number of meteorological disasters per year
metereol <- disaster %>%
filter(disaster_subgroup == "Meteorological") %>%
count(year)
# Chunk 1: setup
#| label: setup
#| include: false
# custom functions ----
library(ggplot2)
theme_standard <- theme_classic() +
theme(
axis.text = element_text(size = 11, color = "black"),
axis.title = element_text(size = 16, color = "black"),
axis.title.y = element_text(vjust = 1.5, color = "black"),
axis.line = element_line(color = "black"),
legend.position = "bottom",
panel.background = element_rect(fill = "white", color = NA),
panel.border = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
strip.background = element_rect(fill = "grey95", color = "black"),
strip.text.x = element_text(size = 16, color = "black"),
strip.text.y = element_text(size = 16, color = "black"))
theme_facet <- theme_classic() +
theme(
axis.text = element_text(size = 11, color = "black"),
axis.title = element_text(size = 16, color = "black"),
axis.title.y = element_text(vjust = 1.5, color = "black"),
axis.line = element_line(color = "black"),
legend.position = "bottom",
panel.background = element_rect(fill = "white", color = NA),
panel.border = element_rect(fill = NA, color = "black"),
panel.grid.major = element_line(color = "grey85"),
panel.grid.minor = element_blank(),
strip.background = element_rect(fill = "grey95", color = "black"),
strip.text.x = element_text(size = 16, color = "black"),
strip.text.y = element_text(size = 16, color = "black"))
# set options
knitr::opts_chunk$set(
tidy = FALSE,
message = FALSE,
warning = FALSE)
options(htmltools.dir.version = FALSE)
# Chunk 2
# load libraries
# reporting
library(knitr)
# visualization
library(ggplot2)
library(ggthemes)
library(patchwork)
# data wrangling
library(dplyr)
library(tidyr)
library(readr)
library(skimr)
library(janitor)
library(magrittr)
# turn off scientific notation
options(scipen=999)
# Chunk 3
disaster <- read_delim("data/nat-disasters_emdat-query-2021-10-05.txt", delim = "\t", skip = 6) %>%
clean_names()
colnames(disaster)
# Chunk 4
# count number of meteorological disasters per year
metereol <- disaster %>%
filter(disaster_subgroup == "Meteorological") %>%
count(year)
# preview data
head(metereol)
ggplot(metereol, aes(x = year, y = n)) +
geom_line(binwidth = 5, color = "black", fill = "orange") +
labs(title = "Yearly occurences of metereological-caused natural disasters",
subtitle = "Number of natural disasters recorded as metereological by the International Disaster \nDatabase per year for 1900 - 2021",
x = "number of events", y = "number of years") +
theme_standard
ggplot(metereol, aes(x = year, y = n)) +
geom_point() +
geom_line(binwidth = 5, color = "black", fill = "orange") +
labs(title = "Yearly occurences of metereological-caused natural disasters",
subtitle = "Number of natural disasters recorded as metereological by the International Disaster \nDatabase per year for 1900 - 2021",
x = "number of events", y = "number of years") +
theme_standard
ggplot(metereol, aes(x = year, y = n)) +
geom_smooth() +
geom_point() +
labs(title = "Yearly occurences of metereological-caused natural disasters",
subtitle = "Number of natural disasters recorded as metereological by the International Disaster \nDatabase per year for 1900 - 2021",
x = "number of events", y = "number of years") +
theme_standard
#| code-fold: true
ggplot(metereol, aes(x = n)) +
geom_histogram(binwidth = 5, color = "black", fill = "orange") +
labs(title = "Distribution of yealy occurences of metereological-caused natural disasters",
subtitle = "Number of natural disasters recorded as metereological by the International Disaster \nDatabase per year for 1900 - 2021",
x = "number of events", y = "number of years") +
theme_standard
#| code-fold: true
disaster %>%
group_by(disaster_subgroup) %>%
count(year) %>%
ggplot(aes(x = disaster_subgroup, y = n, color = disaster_subgroup)) +
geom_boxplot() +
labs(title = "Distribution of number of disasters per category.",
subtitle = "Number of disasters in each category recorded in the International Disaster Database every year.",
x = "natural disaster type", y = "number of records") +
theme_standard
disaster %>%
group_by(disaster_subgroup) %>%
count(year) %>%
ggplot(aes(x = disaster_subgroup, y = n, color = disaster_subgroup)) +
geom_boxplot() +
geom_point() +
labs(title = "Distribution of number of disasters per category.",
subtitle = "Number of disasters in each category recorded in the International Disaster Database every year.",
x = "natural disaster type", y = "number of records") +
theme_standard
disaster %>%
group_by(disaster_subgroup) %>%
count(year) %>%
ggplot(aes(x = disaster_subgroup, y = n, color = disaster_subgroup)) +
geom_violin() +
labs(title = "Distribution of number of disasters per category.",
subtitle = "Number of disasters in each category recorded in the International Disaster Database every year.",
x = "natural disaster type", y = "number of records") +
theme_standard
